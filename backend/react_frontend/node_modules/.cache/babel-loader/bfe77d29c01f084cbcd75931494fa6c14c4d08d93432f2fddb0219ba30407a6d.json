{"ast":null,"code":"var _jsxFileName = \"/home/and078/projects/currenciesCalculator/backend/react_frontend/src/components/Calculator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport UserInput from './UserInput';\nimport axiosClient from '../axiosClient';\nimport { useStateContext } from '../contexts/ContextProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Calculator = () => {\n  _s();\n  const delay = 300;\n  const userDataForSendToAPI = {\n    current_currency: '',\n    value: 0.0\n  };\n  const {\n    token\n  } = useStateContext();\n  const [currencyNameToSend, setCurrencyNameToSend] = useState('');\n  const [valueToSend, setValueToSend] = useState(0.0);\n  const [usd, setUsd] = useState('');\n  const [ron, setRon] = useState('');\n  const [rub, setRub] = useState('');\n  const [uah, setUah] = useState('');\n  const [gbp, setGbp] = useState('');\n  const [eur, setEur] = useState('');\n  const [mdl, setMdl] = useState('');\n  const setsForSendToAPI = {\n    'usd': setUsd,\n    'ron': setRon,\n    'rub': setRub,\n    'uah': setUah,\n    'gbp': setGbp,\n    'eur': setEur,\n    'mdl': setMdl\n  };\n  const callSetsWithDataFromAPI = data => {\n    setUsd(data.usd);\n    setRon(data.ron);\n    setRub(data.rub);\n    setUah(data.uah);\n    setGbp(data.gbp);\n    setEur(data.eur);\n    setMdl(data.mdl);\n  };\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    \"Accept\": \"application/json, text-plain, */*\",\n    'Authorization': `Bearer ${token}`\n  };\n  const fetchData = async dataFromUser => {\n    axiosClient.post('/calculator', dataFromUser, headers).then(data => {\n      callSetsWithDataFromAPI(data.data);\n    }).catch(err => console.log(err));\n  };\n  useEffect(() => {\n    userDataForSendToAPI.current_currency = currencyNameToSend;\n    userDataForSendToAPI.value = valueToSend;\n    const debounceTimeout = setTimeout(() => {\n      try {\n        if (valueToSend) {\n          fetchData(userDataForSendToAPI);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }, delay);\n    return () => {\n      clearTimeout(debounceTimeout);\n    };\n  }, [valueToSend]);\n  const handleInput = e => {\n    e.preventDefault();\n    const currentCurrency = e.target.id;\n    const inputString = e.target.value;\n    const floatInputValue = parseFloat(inputString);\n    setsForSendToAPI[currentCurrency](inputString);\n    setCurrencyNameToSend(currentCurrency);\n    setValueToSend(floatInputValue);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Currencies calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: mdl,\n        currencyName: \"mdl\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: eur,\n        currencyName: \"eur\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: usd,\n        currencyName: \"usd\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: rub,\n        currencyName: \"rub\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: gbp,\n        currencyName: \"gbp\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: ron,\n        currencyName: \"ron\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserInput, {\n        textValue: uah,\n        currencyName: \"uah\",\n        onInput: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Calculator, \"s7mQYWTqSJhhQX1lM7lwZJQGWy0=\", false, function () {\n  return [useStateContext];\n});\n_c = Calculator;\nexport default Calculator;\nvar _c;\n$RefreshReg$(_c, \"Calculator\");","map":{"version":3,"names":["React","useEffect","useState","UserInput","axiosClient","useStateContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Calculator","_s","delay","userDataForSendToAPI","current_currency","value","token","currencyNameToSend","setCurrencyNameToSend","valueToSend","setValueToSend","usd","setUsd","ron","setRon","rub","setRub","uah","setUah","gbp","setGbp","eur","setEur","mdl","setMdl","setsForSendToAPI","callSetsWithDataFromAPI","data","headers","fetchData","dataFromUser","post","then","catch","err","console","log","debounceTimeout","setTimeout","e","clearTimeout","handleInput","preventDefault","currentCurrency","target","id","inputString","floatInputValue","parseFloat","children","className","fileName","_jsxFileName","lineNumber","columnNumber","textValue","currencyName","onInput","_c","$RefreshReg$"],"sources":["/home/and078/projects/currenciesCalculator/backend/react_frontend/src/components/Calculator.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport UserInput from './UserInput';\nimport axiosClient from '../axiosClient';\nimport { useStateContext } from '../contexts/ContextProvider';\n\nconst Calculator = () => {\n\n    const delay = 300;\n\n    const userDataForSendToAPI = {\n        current_currency: '',\n        value: 0.0,\n    }\n\n    const { token } = useStateContext();\n\n    const [currencyNameToSend, setCurrencyNameToSend] = useState('');\n    const [valueToSend, setValueToSend] = useState(0.0);\n\n    const [usd, setUsd] = useState('');\n    const [ron, setRon] = useState('');\n    const [rub, setRub] = useState('');\n    const [uah, setUah] = useState('');\n    const [gbp, setGbp] = useState('');\n    const [eur, setEur] = useState('');\n    const [mdl, setMdl] = useState('');\n\n    const setsForSendToAPI = {\n        'usd': setUsd,\n        'ron': setRon,\n        'rub': setRub,\n        'uah': setUah,\n        'gbp': setGbp,\n        'eur': setEur,\n        'mdl': setMdl,\n    }\n\n    const callSetsWithDataFromAPI = (data) => {\n        setUsd(data.usd);\n        setRon(data.ron);\n        setRub(data.rub);\n        setUah(data.uah);\n        setGbp(data.gbp);\n        setEur(data.eur);\n        setMdl(data.mdl);\n    }\n\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json, text-plain, */*\",\n        'Authorization': `Bearer ${token}`,\n    }\n\n    const fetchData = async (dataFromUser) => {\n\n        axiosClient.post('/calculator', dataFromUser, headers)\n            .then(data => {\n                callSetsWithDataFromAPI(data.data);\n            })\n            .catch(err => console.log(err));\n    }\n\n    useEffect(() => {\n        userDataForSendToAPI.current_currency = currencyNameToSend;\n        userDataForSendToAPI.value = valueToSend;\n\n        const debounceTimeout = setTimeout(() => {\n            try {\n                if (valueToSend) {\n                    fetchData(userDataForSendToAPI);\n                }\n            }\n            catch (e) {\n                console.log(e);\n            }\n\n        }, delay);\n\n        return () => {\n            clearTimeout(debounceTimeout);\n        };\n    }, [valueToSend]);\n\n    const handleInput = (e) => {\n        e.preventDefault();\n        const currentCurrency = e.target.id;\n        const inputString = e.target.value\n        const floatInputValue = parseFloat(inputString);\n\n        setsForSendToAPI[currentCurrency](inputString);\n\n        setCurrencyNameToSend(currentCurrency);\n        setValueToSend(floatInputValue);\n    }\n\n    return (\n        <>\n            <div className='container'>\n                <h1 className='title'>Currencies calculator</h1>\n                <UserInput textValue={mdl} currencyName=\"mdl\" onInput={handleInput} />\n                <UserInput textValue={eur} currencyName=\"eur\" onInput={handleInput} />\n                <UserInput textValue={usd} currencyName=\"usd\" onInput={handleInput} />\n                <UserInput textValue={rub} currencyName=\"rub\" onInput={handleInput} />\n                <UserInput textValue={gbp} currencyName=\"gbp\" onInput={handleInput} />\n                <UserInput textValue={ron} currencyName=\"ron\" onInput={handleInput} />\n                <UserInput textValue={uah} currencyName=\"uah\" onInput={handleInput} />\n            </div>\n        </>\n\n    )\n}\n\nexport default Calculator\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}