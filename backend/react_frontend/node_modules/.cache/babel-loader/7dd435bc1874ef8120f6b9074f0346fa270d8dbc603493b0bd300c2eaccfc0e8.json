{"ast":null,"code":"var _jsxFileName = \"/home/and078/projects/currenciesCalculator/backend/react_frontend/src/components/admin/UsersTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport CalculationsTable from './CalculationsTable';\nimport { useStateContext } from '../../contexts/ContextProvider';\nimport axiosClient from '../../axiosClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UsersTable = ({\n  usersFromApi\n}) => {\n  _s();\n  const {\n    token\n  } = useStateContext();\n  const [calculationsFromApi, setCalculationsFromApi] = useState([]);\n  const [showCalculations, setShowCalculations] = useState(false);\n  const headers = {\n    'Content-Type': 'application/json',\n    'Accept': \"application/json\",\n    'Authorization': `Bearer ${token}`\n  };\n  const fetchCalculations = payload => {\n    axiosClient.post('admin/search_user_by_id', payload, headers).then(data => {\n      setCalculationsFromApi(data.data);\n      if (data.data.length === 0) {\n        alert(`This user has no data`);\n      }\n      showResults(data.data);\n      // console.log(data.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const showResults = calculationsFromApi => {\n    if (calculationsFromApi.length > 0) {\n      setShowCalculations(true);\n    } else {\n      setShowCalculations(false);\n    }\n  };\n  const handleClick = id => {\n    fetchCalculations({\n      id: id\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showCalculations ? /*#__PURE__*/_jsxDEV(CalculationsTable, {\n      calculationsFromApi: calculationsFromApi,\n      onTableClick: () => setShowCalculations(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped table-light table-hover\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: usersFromApi.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => handleClick(item.id),\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: item.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 45\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 41\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }, this)\n  }, void 0, false);\n};\n_s(UsersTable, \"zVIzf5GHMp+uYR+tPn3i7r0ebUA=\", false, function () {\n  return [useStateContext];\n});\n_c = UsersTable;\nexport default UsersTable;\nvar _c;\n$RefreshReg$(_c, \"UsersTable\");","map":{"version":3,"names":["React","useState","CalculationsTable","useStateContext","axiosClient","jsxDEV","_jsxDEV","Fragment","_Fragment","UsersTable","usersFromApi","_s","token","calculationsFromApi","setCalculationsFromApi","showCalculations","setShowCalculations","headers","fetchCalculations","payload","post","then","data","length","alert","showResults","catch","err","console","log","handleClick","id","children","onTableClick","fileName","_jsxFileName","lineNumber","columnNumber","className","scope","map","item","onClick","name","email","_c","$RefreshReg$"],"sources":["/home/and078/projects/currenciesCalculator/backend/react_frontend/src/components/admin/UsersTable.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport CalculationsTable from './CalculationsTable';\nimport { useStateContext } from '../../contexts/ContextProvider';\nimport axiosClient from '../../axiosClient';\n\nconst UsersTable = ({ usersFromApi }) => {\n\n    const { token } = useStateContext();\n    const [calculationsFromApi, setCalculationsFromApi] = useState([]);\n    const [showCalculations, setShowCalculations] = useState(false);\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Accept': \"application/json\",\n        'Authorization': `Bearer ${token}`,\n    }\n\n    const fetchCalculations = (payload) => {\n        axiosClient.post('admin/search_user_by_id', payload, headers)\n            .then(data => {\n                setCalculationsFromApi(data.data);\n                if (data.data.length === 0) {\n                    alert(`This user has no data`);\n                }\n                showResults(data.data);\n                // console.log(data.data);\n            })\n            .catch(err => { console.log(err) });\n    }\n\n    const showResults = (calculationsFromApi) => {\n        if (calculationsFromApi.length > 0) {\n            setShowCalculations(true);\n        } else {\n            setShowCalculations(false);\n        }\n    }\n\n    const handleClick = (id) => {\n        fetchCalculations({ id: id });\n    }\n\n    return (\n        <>\n            {(showCalculations ?\n                <CalculationsTable calculationsFromApi={calculationsFromApi} onTableClick={() => setShowCalculations(false)} /> :\n                (\n                    <div className='container mt-3'>\n                        <table className=\"table table-striped table-light table-hover\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\">Id</th>\n                                    <th scope=\"col\">Name</th>\n                                    <th scope=\"col\">Email</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    usersFromApi.map(item => (\n                                        <tr key={item.id} onClick={() => handleClick(item.id)}>\n                                            <th scope=\"row\">{item.id}</th>\n                                            <td>{item.name}</td>\n                                            <td>{item.email}</td>\n                                        </tr>\n                                    ))\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                )\n            )}\n\n        </>\n    )\n}\n\nexport default UsersTable\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}